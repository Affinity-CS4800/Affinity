@{
    ViewData["Title"] = "Home Page";
}

@section styles {
    <style>
        .cta {
            position: relative;
        }
    </style>
}

<section class="cta">
    <h2 class="cta-callout">Make graphs online</h2>
    <p class="cta-description">Use our editor to make and export beautiful graphs.</p>
    <a class="cta-action" href="/graph">Graph now</a>
    <div class="cta-bg"></div>
</section>
<section class="features">
    <h2 class="hidden">Features</h2>
    <div class="feature">
        <div class="feature-visual">
            <img src="~/img/moser-spindle-colored.jpg" class="feature-image" width="50px" height="50px" />
        </div><div class="feature-text">
            <h3 class="feature-name">Create graphs with ease</h3>
            <p class="feature-description">Affinity provides an intuitive interface for creating graphs. Combining simplicity, versatility, and customization, Affinity allows you to easily create a large variety of graphs.</p>
        </div>
    </div>
    <div class="feature clearfix">
        <div class="feature-visual">
            <img src="~/img/alignment-graph.jpg" class="feature-image" width="50px" height="50px" />
        </div><div class="feature-text">
            <h3 class="feature-name">Save and return to graphs</h3>
            <p class="feature-description">Making a complicated graph? Don't want to lose your progress? Make a free account, save your graphs, and return later for further editing.</p>
        </div>
    </div>
    <div class="feature">
        <div class="feature-visual">
            <img src="~/img/export-graph.jpg" class="feature-image" width="50px" height="50px" />
        </div><div class="feature-text">
            <h3 class="feature-name">Export to PDF and PNG</h3>
            <p class="feature-description">Share your graphs and seamlessly embed them within your documents. With one click, export your beautiful graphs to your preferred file format. </p>
        </div>
    </div>
</section>

@section scripts {
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/6.6.1/firebase-auth.js"></script>
    <script type="text/javascript" src="~/js/FIREBASE_CONFIG.js"></script>
    <script type="text/javascript" src="~/js/firebase.js"></script>
    <script type="text/javascript">
        var app = new Vue({
            el: '#app',
            data: {
                message: 'Start graphing today.',
                user: false
            },
            created: function () {
                // Store user
                firebase.auth().onAuthStateChanged(user => {
                    console.log(user);
                    this.user = user;
                });
            },
            methods: {
                signOut: function (event) {
                    if (this.user) {
                        firebase.auth().signOut().then(function () {
                            // Successfully signed out.
                            document.cookie = "aff_t=; Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
                        }).catch(function (error) {
                            // An error happened.
                        });
                        window.location.reload(true); // refresh page
                    }
                }
            }
        })
    </script>
}

